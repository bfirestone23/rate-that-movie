<div>
    <h2>Edit a Review</h2>
</div>

<div>
    <form action="/reviews/<%= @review.id %>" method="POST">
        <input type="hidden" id="hidden" name="_method" value="patch">

        <h3>Select from an existing movie or add a new one to the database:</h3>

        <% Movie.all.each do |movie| %>
            <label for="<%=movie.title%>"><%=movie.title%></label>
            <input id="<%=movie.title%>" type="checkbox" name="existing_movie[movie_id]" value="<%=movie.id%>" <%= 'checked' if @review.movie.title == movie.title %>><br>
        <% end %>
        <br>
        
        <label for="new_movie_title">Movie Title:</label>
        <input id="new_movie_title" name="new_movie[title]"><br>

        <label for="new_movie_genre">Movie Genre:</label>
        <input id="new_movie_genre" name="new_movie[genre]"><br>

        <label for="new_movie_director">Movie Director:</label>
        <input id="new_movie_director" name="new_movie[director]"><br>

        <label for="new_movie_release_date">Movie Release Date:</label>
        <input type="date" id="new_movie_release_date" name="new_movie[release_date]">

        <h3>Your review:</h3>

        <label for="watch_date">Watch Date:</label>
        <input type="date" id="watch_date" name="review[watch_date]" value="<%= @review.watch_date %>"><br>

        <label for="rating">Rating:</label>
        <input type="number" id="rating" name="review[rating]" step="0.01" min="0" value="<%= @review.rating %>"><br>

        <label for="description">Description:</label>
        <textarea for="description" id="description" name="review[description]"><%= @review.description %></textarea><br>

        <input type="submit" value="Update Review">

    </form>
</div>